<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title></title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<link rel="stylesheet" href="lib/justifiedGallery.min.css">
<script src="lib/jquery.justifiedGallery.min.js"></script>

<link rel="stylesheet" href="lib/colorbox.css">
<script src="lib/jquery.colorbox-min.js"></script>

<link rel="stylesheet" href="lib/jquery-ui.min.css">
<script src="lib/jquery-ui.min.js"></script>

<script type="text/javascript">

// Attach every chart to the appropriate gallery
var handleFile = function(file0) {
  // remove 'docs/' prefix
  var file = file0.slice(5);
  // classical -> 0/1, folk -> 2/3, random -> 4
  var n = file.indexOf("classical") && file.indexOf("algorithm") ? 1
        : file.indexOf("classical")                              ? 0
        : file.indexOf("folk")      && file.indexOf("algorithm") ? 3
        : file.indexOf("classical")                              ? 2
        : 4
  $(`#chart${n}`).append(
    `<a class='gallery' href="${file}"> <img src="${file}"> </a>`
  );
}


// Justify chart galleries
window.onload = function() {
  // Gather all images (script will insert the actual chart filenames)
  var files = [
    %%%
  ];
  files.forEach(handleFile);
  // Format gallery
  for (var i = 0; i < 5; i++) {
    $(`#chart${i}`).justifiedGallery({
      rowHeight : 140,
      lastRow : 'nojustify',
      margins : 3
    });
  }
  $('a.gallery').colorbox();
  // Enable accordion
  $('#accordion').accordion({header: "h2", active:false, collapsible: true});
}

</script>
</head>

<body>

<div id="accordion">
  <h2>Classical: Experts</h2>
  <div id="chart0"></div>

  <h2>Classical: Algorithms</h2>
  <div id="chart1"></div>

  <h2>Folk: Experts</h2>
  <div id="chart2"></div>

  <h2>Folk: Algorithms</h2>
  <div id="chart3"></div>

  <h2>Random</h2>
  <div id="chart4"></div>
</div>

</body>
</html>
